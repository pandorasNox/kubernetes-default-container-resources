
apiVersion: admissionregistration.k8s.io/v1beta1
kind: MutatingWebhookConfiguration
metadata:
  name: default-container-resources
webhooks:
  - name: default-container-resources.mutating-webhook.svc
    rules:
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
        resources:
          - pods
    failurePolicy: Fail
    clientConfig:
      # url: "${HTTPS_TRIGGER_URL}"
      service:
        namespace: mutating-webhook
        name: default-container-resources
        path: /
      # `caBundle` is a PEM encoded CA bundle which will be used to validate
      # the webhook's server certificate.
      # Required.
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURDVENDQWZHZ0F3SUJBZ0lKQUkvUWk3T0VBemZoTUEwR0NTcUdTSWIzRFFFQkN3VUFNQkl4RURBT0JnTlYKQkFNTUIzUmxjM1F0WTJFd0hoY05NVGd4TVRBeU1USTBNekF4V2hjTk1Ua3dNVEF4TVRJME16QXhXakE3TVRrdwpOd1lEVlFRREREQmtaV1poZFd4MExXTnZiblJoYVc1bGNpMXlaWE52ZFhKalpYTXViWFYwWVhScGJtY3RkMlZpCmFHOXZheTV6ZG1Nd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURMQ25sbEc1VXoKVkhaRng0OUlveUt3K0hjMzVBc2w2bkdXTXZjNG1JSFZhQzZxaUVDQVBJdFNQVXRBbnlYYjkzWkwxa1RabnNXMgp6bU5ObWVRRHdCL2puTktIZE9MWXlYOGZaTThaWjc3Q25XVWxiWlVwU1UzdGlGcktNWGhIZVgyRTZBY2UzVEpvCkR2Ukh6SWhhUWQzSGdxMHA5czdKMDJBMitjUmJCS3VSK2ZxOEVPdmw3bnp4cUI3MjNLY3BPaFJacU4vOFpIdmgKUUk0eWNYWkU3dkl6WWg5UmtKZ3FOWGp4RUVOK3ROZy96VG15eCt3WE42LzRPY0MwY3RpUWhWaHB1d3V3REtPVApPSWJXZytyUHU2NVhBellnZkp6RGJKRzBBd0JRYjl0WlJ1RERvV3RHVEdrYnExVGxSZVBIZWNUSXgwY3pPWTl3CmloUHBPZDZvVUkrNUFnTUJBQUdqT1RBM01Ba0dBMVVkRXdRQ01BQXdDd1lEVlIwUEJBUURBZ1hnTUIwR0ExVWQKSlFRV01CUUdDQ3NHQVFVRkJ3TUNCZ2dyQmdFRkJRY0RBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSURtUQo3NXY4ZVdhdzdGMGU1bHFnNFcyV3FnYlF4SEVsWEErT3BHUjN5OVMvUEYvdXd5YVNhOVZaZmltdXBrQ2diY2l5CmdZcHF0NVUxbGNuaVpFVmx0QWE2bDcyWXljcUFYUXh4Qnk2SDBwN3NRcGVmQ21CMWV3NUxEMHhxZFVNdUVEVWkKSG9IZFpkUXdvbEJvaDgyQlZZRXl3UENZd2lDblZpQ2R6L3hpMlAyNjZ0Tzk4WHBjY3ZBWVNJN291eFo4M1hMUQpLc3NwNFNZTkR1YjkzMHN0dGs5SXk0aml5cEpGQ0ZMK1czNUtlYzlWQVNUa2xFUHd2UVJXN3FMRXBleTNLQ1BICnZiYUdZWURQSEhmSERVanhEeWR2MjZOR2x1Z2ZwRGRkRXFlcGlIdDUvOFc5QmxaRllkL1k5RGhxNy9TdEpFcjgKM1Mwa01tVmtJZnFuWXVjTG53PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    namespaceSelector:
      matchExpressions:
        # - key: environment
        #   operator: NotIn
        #   values:
        #     - prod
        #     - staging
        - key: default-resources-webhook
          operator: NotIn
          values:
            - disabled
